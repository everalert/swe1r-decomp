researching stat bar rendering, but findings suggest these functions are generally used for drawing (potentially textured) quads
kind of turned into a quads research doc halfway through

GENERAL NOTES
- no special flags needed to get a sprite to render with an alpha channel, but sprites intended to be used as a color mask tend to have some flags set to change how the transparency looks
- lots of scene-specific functions that spam quad setup and adjustments, not all mentioned here; check functions that call fn_457ED0 or fn_4285D0 in ida or w/e to see them all
- not sure about the exact fn argument int types yet, but the bit sizes of them should be right


CONSTANTS

0xE9BA60  [400]QUAD	drawing queue; 0xE9EC60 END
0xE2AEC0  [7]f32	upgrade stat UI widths; i.e. "UI-formatted" stats
0xE2AF40  [7]f32?	upgrade stat UI widths for selected part in shop; used to calc stat bar subsegment
0x50C928  u32		stat bar drawing index? reset in HangCallback0x14
0x4554CC  f32		stat bar height; static value not used for all cases, see draw stats fn asm
0x4B91B8  u32		initialized quads index; always at first uninitialized slot, max 400


FUNCTIONS

fn_4550D0
	- the function that draws the actual stat bar widget thing each frame, calling the below functions
	  to manipulate the quads each frame, among other things

drawing a bar seems to involve the following 4 functions:
- in the case of the stat bars, indexes start at 130 and are essentially static/assumed
- nothing else seems to be involved in drawing a bar, BUT these functions are also used for other things

fn_4285D0(i16,i32/bool) - swrQuad_SetVisible(index, visible)
	- set visible bit on/off in flags at given drawing index
	- special behaviour when arg1 = 0xFF37, 0xFF99 or 0xFF98
	  setting value at 50B700, 50B704 or 50B708 respectively
	- otherwise, sets flag 1<<5 (visible) in item at index arg1, using arg2
	- ALWAYS used with fn_428660, even when not drawing the stat bar

fn_428660(i16,i16,i16) - swrQuad_SetPosition(index, x, y)
	- set position of item at drawing index
	- special behaviour when arg1 = 0xFF37, writing values as f32 to 4B91BC and 4B91C0 instead of the following
	- otherwise, writes arg2, arg3 to 0x00, 0x02 of item at given index respectively

fn_4286F0(i16,f32,f32) - swrQuad_SetScale(index, x, h)
	- set scale of item at drawing index
	- the system seems to figure out on its own how big the sprite is to begin with
	- writes arg2, arg3 to 0x08, 0x0C of item at given index respectively

fn_428740(i16,u8,u8,u8,u8) - swrQuad_SetColor(index, r, g, b, a)
	- set color of item at drawing index
	- special behaviour when arg1 = 0xFF99 or 0xFF98, setting values to 50B704 or 50B708 respectively
	- otherwise, packs arg2-arg5 contiguously into 0x18 of item at given index

other functions, related more generally to quad/sprite drawing:

fn_4282F0(i16,i32) - swrQuad_InitializeQuad(index, sprite_ptr)
	- seems to be used to initialize struct used in above functions, at position arg1
	- will only set if arg1 < 400; meaning the quad drawing queue is limited to 400 quads?
	- sets [E9BA78+8*arg1] to arg2
	- does not set anything to [E9BA64+8*arg1], everything else gets a value
	- sets 0x4B91B8 to arg1+1 if smaller; quad queue size?

fn_4287E0(i16,u32) - swrQuad_SetFlags(index, flags)
	- used to set flags of item at given quad queue index

fn_428800(i16,u32) - swrQuad_UnsetFlags(index, flags)
	- used to unset flags of item at given quad queue index

fn_457ED0()
	- seems to be used to setup the default data for the quads on the character select

fn_4586E0(Hang:intptr)
	- seems to be a general setup fn for all quad data; also calls fn_457ED0
	- runs once on every scene transition in cantina

fn_4114D0(filename:[*:0]const u8, index:u32)
	- seems to be used to load a sprite from tga file and place it at a given index, returning
	  a ptr to the loaded data
	- not sure what unk2 is, but seems to correspond to the draw queue index in practice; 
	  i.e. InitQuad tends to be called with the same index as was used here

fn_446FB0(index:u32)
	- seems to be used to load a sprite from spriteblock from a given index, returning a ptr to the loaded data
	- just calls fn_446CA0 and forwards the output

fn_412E90(index:u32, filename:[*:0]const u8)
	- tries to load a TGA with the given filename into given internal resource index, then return 1
	- if no filename given (nullptr), tries to load a sprite from spriteblock with the same index
	- if successful, map the resource to the given index and return 1
	- if the given index already has a resource attached, skip the whole thing and return 1
	- otherwise (i.e. no filename given OR loadable spriteblock index) return 0
	- filename given without extension

fn_412F60
	- clears out quad array indices 251..399 with null pointers; not sure when/why it triggers

fn_428370
	- clears out all initialized quads, resetting the initialized quad index to 0

fn_416FD0
	- seems to map pointer of loaded sprite data to internal resource index of some kind?


QUAD STRUCT

0x00	u16	x (assumes screen space of 320x240)
0x02	u16	y
0x04		?? possibly unused
0x08	f32	x scale (i.e. 1 = sprite width px in screen space)
0x0C	f32	y scale
0x10		?? set to 0 in fn_4282F0, set manually in fn_428720; no other refs in ida, basically always 0 in game memory
0x14	u32	flags
	1<<00	?? set on during quad init
	1<<01
	1<<02	flip horizontal
	1<<03	flip vertical (TGAs loaded are rendered flipped vertically by default?)
	1<<04
	1<<05	visible
	1<<06
	1<<07
	1<<08
	1<<09	?? seen in fn_464630
	1<<10
	1<<11	?? seen in fn_464630, fn_408220
	1<<12	?? seen in fn_464630
	1<<13	enable world-space clipping; i.e. draw in 3d space, not in front of everything
	1<<14	?? on for lens flares, see fn_464010;
	1<<15	?? 'sprite has transparency'? .. leaving off has the effect of a black faded border on color mask sprites, as though the mask is being applied to the black part of the image rather than on the color you give it; on for lens flares, see fn_464010; seen in fn_458250, fn_464630
	1<<16	high-res mode (320x240->640x480)?  on for lens flares, see fn_464010; on for "STAR" title text, see fn_435240
	1<<17
	1<<18
	1<<19
	1<<20
	1<<21
	1<<22
	1<<23
	1<<24
	1<<25
	1<<26
	1<<27
	1<<28
	1<<29
	1<<30
	1<<31
0x18	u32	RGBA
0x1C	ptr	pointer to sprite data used to draw the quad
0x20 END


QUAD STRUCT ARRAY INDEXES
possibly different layout between inrace and cantina

000	in-race hud - LAP angled green line; see fn_4603F0
001	in-race hud - POS angled green line; see fn_4603F0
002	in-race hud - speedometer blue background, middle; see fn_4603F0
003	in-race hud - speedometer blue background, left side; see fn_4603F0
004	in-race hud - TIME curved green line; see fn_4603F0
005	?? ref in fn_4603F0; on when arg1 1<<0 (1)
006	?? ref in fn_4603F0; on when arg1 1<<0 (1)
007	in-race hud - double tall bar hud, left bar; also bar of tall heat meter accent hud; see fn_4603F0
008	in-race hud - double tall bar hud, right bar; see fn_4603F0
009	in-race hud - curved top of accent above heat meter; see fn_4603F0
010	in-race hud - speedometer blue background, right side; see fn_4603F0
011	in-race hud - LAP to TIME connecting green line; see fn_4603F0
012	in-race hud - TIME to POS connecting green line; see fn_4603F0
013	in-race hud - blue bar background at top; see fn_4603F0
014
015
016
017
018
019
020
021
022
023
024
025	in-race minimap background; see fn_4603F0
026
027
028
029
030
031
032
033
034
035
036
037
038
039
040
041
042
043
044
045
046
047
048
049
050
051
052
053
054
055
056
057
058
059
060
061
062
063
064
065
066
067
068
069
070
071
072
073
074
075
076
077
078
079
080
081
082
083
084
085
086
087	?? ref in draw stat bar fn; indexes 87..97 all have fn_4287E0 called on them with 0x8000
088	stat bar bg tiling
089	..
090	..
091	..
092	..
093	..
094	.. last
095	?? ref in draw stat bar fn
096	?? ref in draw stat bar fn
097	?? ref in draw stat bar fn
098
099
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130	blank quads used for stat bars; doesn't seem to usable as blank quads when in race? or just bad hook?
131	..
132	..
133	..
134	..
135	..
136	..
137	..
138	..
139	..
140	..
141	..
142	..
143	.. last (range setup in fn_457ED0)
144	more blank quads; setup with same sprite index as above, but also calls fn_4287E0 with 0x2000 while setting these
145	..
146	..
147	..
148	..
149	..
150	..
151	..
152	..
153	..
154	..
155	..
156	..
157	..
158	.. could be the last blank quad in practice, observed sprite pointer changes for next 3?
159	..
160	..
161	.. last (according to range setup in fn_457ED0)
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400 END